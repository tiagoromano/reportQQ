!function(o){angular.module("custom.controllers",[]),app.controller("HomeController",["$scope","$http","$rootScope","$state","$translate","Notification","$ionicModal",function(o,e,t,n,r,c,i){t.http=e,app.registerEventsCronapi(o,r,i),o.Notification=c;for(var l in app.userEvents)o[l]=app.userEvents[l].bind(o);o.message={}}]),app.controller("chatController",["$scope","$state","$ionicPopup","$ionicScrollDelegate","$timeout","$interval","$ionicModal","$translate","$rootScope","$http","Notification",function(o,e,t,n,r,c,i,l,a,s,p){app.registerEventsCronapi(o,l),a.http=s,o.Notification=p;for(var u in app.userEvents)o[u]=app.userEvents[u].bind(o);var f,S,g,m=(JSON.parse(sessionStorage._u).user.username,n.$getByHandle("userMessageScroll"));o.enter=function(){r(function(){f=document.body.querySelector(".homeView .bar-footer"),S=document.body.querySelector(".homeView .scroll-content"),g=angular.element(f.querySelector("textarea"))},0)},o.isEnter=function(o){13==o.keyCode&&r(function(){o.stopPropagation(),$("#sendButton").trigger("click")},0)},o.refreshScroll=function(e,t){r(function(){e=e||o.scrollDown,m.resize(),e&&m.scrollBottom(!0),o.checkScroll()},t||1e3)},o.scrollDown=!0,o.checkScroll=function(){return r(function(){var e=m.getScrollPosition().top,t=m.getScrollView().__maxScrollTop;o.scrollDown=e>=t,o.$apply()},0),!0}}])}(app);